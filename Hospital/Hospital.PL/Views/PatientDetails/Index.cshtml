@model PatientDetailsViewModel
@{
    ViewBag.Title = "Index";
}

<section class="py-3">
    <section class="py-3">
        <div class="container">
            <div class="row">
                <div class="col-12 py-3">
                    <h2 class="text-center">Medications</h2>
                </div>
            </div>
        </div>
    </section>
</section>

<section>
    <section class="py-3">
        <div class="container">
            <div class="row">
                <div class="col-12 py-3">
                    <h4>Reports</h4>
                </div>
            </div>
        </div>
    </section>

    <div class="row mt-2">
        <a asp-action="AddReport" class="btn btn-primary mb-2">Add new Report </a>
    </div>

    <table class="table table-hover table-striped">
        <thead>
            <tr>
                <th>Patient Name</th>
                <th>Diagnosis</th>
                <th>Date</th>
                <th>Doctor Name</th>
                <th>Treatment</th>
                <th>Edit</th>
                <th>Delete</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var report in Model.DoctorWriteTestReports)
            {
                <tr>
                    <td>@report.Pat.Patientname</td>
                    <td>@report.Diagnosis</td>
                  
                    <td>@report.ReportDate</td>
                    <td>@report.Doc.Doctorname</td>
                    <td>
                        <a asp-controller="PatientDetails" asp-action="AddTreatment" asp-route-doctorId="@report.Docid" asp-route-patientId="@report.Patid" class="btn btn-primary">
                            <i class="fas fa-edit"></i>Add
                        </a>

                    </td>
                    <td>
                        <a asp-controller="PatientDetails" asp-action="EditReport" asp-route-doctorId="@report.Docid" asp-route-patientId="@report.Patid" class="btn btn-warning">
                            <i class="fas fa-edit"></i>Edit
                        </a>
                    </td>
                    <td>
                        <a asp-controller="PatientDetails" asp-action="DeleteReport" asp-route-doctorId="@report.Docid" asp-route-patientId="@report.Patid" class="btn btn-danger">
                            <i class="fas fa-trash"></i>Delete
                        </a>
                    </td>
                </tr>

            }
        </tbody>
    </table>

</section>

<section>
    <section class="py-3">
        <div class="container">
            <div class="row">
                <div class="col-12 py-3">
                    <h4>Treatments</h4>
                </div>
            </div>
        </div>
    </section>
    <table class="table table-hover table-striped">
        <thead>
            <tr>
                <th>Patient Name</th>
                <th>Doctor Name</th>
                <th>Treatment</th>
                
                <th>Edit</th>
                <th>Delete</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var treatment in Model.Testreporttreatments)
            {
                <tr>

                    <td>@treatment.Doctorwritetestreport.Pat.Patientname</td>
                    <td>@treatment.Doctorwritetestreport.Doc.Doctorname</td>
                    <td>@treatment.Treatments</td>
                    
                    
                    <td>
                        <a asp-controller="PatientDetails" asp-action="EditTreatment" asp-route-doctorId="@treatment.Docid" asp-route-patientId="@treatment.Patid" class="btn btn-warning">
                            <i class="fas fa-edit"></i>Edit
                        </a>
                    </td>
                    <td>
                        <a asp-controller="PatientDetails" asp-action="DeleteTreatment" asp-route-doctorId="@treatment.Docid" asp-route-patientId="@treatment.Patid" class="btn btn-danger">
                            <i class="fas fa-trash"></i>Delete
                        </a>
                    </td>
                </tr>

            }
        </tbody>
    </table>

</section>

<section>
    <section class="py-3">
        <div class="container">
            <div class="row">
                <div class="col-12 py-3">
                    <h4>Bills</h4>
                </div>
            </div>
        </div>
    </section>

    <div class="row mt-2">
        <a asp-action="AddBill" class="btn btn-primary mb-2">Add new Bill </a>
    </div>

    <table class="table table-hover table-striped">
        <thead>
            <tr>
                <th>Bill Id</th>
                <th>Total</th>
                <th>Insurance</th>
                <th>Patient Name</th>
                <th>Accountant</th>
                <th>Edit</th>
                <th>Delete</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var bill in Model.Bills)
            {
                <tr>
                    <td>@bill.Billid</td>
                    <td>@bill.Totalbill</td>
                    <td>@bill.Hasinsurance</td>
                    <td>@bill.Pat.Patientname</td>
                    <td>@bill.Acc.Accountantname</td>
                    
                    <td>
                        <a asp-controller="PatientDetails" asp-action="EditBill" asp-route-id="@bill.Billid"  class="btn btn-warning">
                            <i class="fas fa-edit"></i>Edit
                        </a>
                    </td>

                    <td>
                        <a asp-controller="PatientDetails" asp-action="DeleteBill" asp-route-id="@bill.Billid" class="btn btn-danger">
                            <i class="fas fa-trash"></i>Delete
                        </a>
                    </td>
                </tr>

            }
        </tbody>
    </table>

</section>

<section>
    <section class="py-3">
        <div class="container">
            <div class="row">
                <div class="col-12 py-3">
                    <h4>Medical Record</h4>
                </div>
            </div>
        </div>
    </section>

    <div class="row mt-2">
        <a asp-action="AddRecord" class="btn btn-primary mb-2">Add new Record </a>
    </div>

    <table class="table table-hover table-striped">
        <thead>
            <tr>
                <th>Record Id</th>
                <th>Patient Name</th>
                <th>Diagnosis</th>
                <th>Date</th>
                <th>Edit</th>
                <th>Delete</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var record in Model.MedicalRecords)
            {
                <tr>
                    <td>@record.Recordid</td>
                    <td>@record.Pat.Patientname</td>
                    <td>@record.Diagnosis</td>
                    <td>@record.Recorddate</td>
                   
                    <td>
                        <a asp-controller="PatientDetails" asp-action="EditRecord" asp-route-id="@record.Recordid" class="btn btn-warning">
                            <i class="fas fa-edit"></i>Edit
                        </a>
                    </td>

                    <td>
                        <a asp-controller="PatientDetails" asp-action="DeleteRecord" asp-route-id="@record.Recordid" class="btn btn-danger">
                            <i class="fas fa-trash"></i>Delete
                        </a>
                    </td>
                </tr>

            }
        </tbody>
    </table>

</section>

